"use strict";(self.webpackChunkangular_registration_login_example=self.webpackChunkangular_registration_login_example||[]).push([[452],{5452:(R,f,a)=>{a.r(f),a.d(f,{UsersModule:()=>B});var r=a(433),c=a(6895),s=a(9230),e=a(8256);let v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"router-outlet"),e.qZA()())},dependencies:[s.lC],encapsulation:2}),n})();var l=a(590),m=a(6082);function Z(n,i){1&n&&e._UZ(0,"span",27)}function b(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"Delete"),e.qZA())}function h(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",22)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",23)(10,"a",24),e._uU(11,"Edit"),e.qZA(),e.TgZ(12,"button",25),e.NdJ("click",function(){const p=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.deleteUser(p.id))}),e.YNc(13,Z,1,0,"span",26),e.YNc(14,b,2,0,"span",21),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.role),e.xp6(2),e.Oqu(t.department),e.xp6(2),e.MGl("routerLink","edit/",t.id,""),e.xp6(2),e.Q6J("disabled",t.isDeleting),e.xp6(1),e.Q6J("ngIf",t.isDeleting),e.xp6(1),e.Q6J("ngIf",!t.isDeleting)}}function A(n,i){1&n&&(e.TgZ(0,"tr")(1,"td",28),e._UZ(2,"span",29),e.qZA()())}const x=function(){return{exact:!0}};let w=(()=>{class n{constructor(t){this.accountService=t}ngOnInit(){this.user=this.accountService.userValue,this.accountService.getAll().subscribe(t=>this.users=t)}deleteUser(t){this.users.find(d=>d.id===t).isDeleting=!0,this.accountService.delete(t).pipe((0,l.P)()).subscribe(()=>this.users=this.users.filter(d=>d.id!==t))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:56,vars:4,consts:[["name","viewport","content","width=device-width, initial-scale=1"],["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],[1,"sidenav"],["routerLink","/","routerLinkActive","active",1,"w3-bar-item","w3-button",3,"routerLinkActiveOptions"],["routerLink","/users","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CSM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/STM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CUM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/feedback","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/settings","routerLinkActive","active",1,"w3-button","w3-bottom",2,"width","25%"],[1,"navbar"],[1,"table",2,"margin-left","26%"],["routerLink","add",1,"w3-button","w3-round","w3-ripple","w3-green"],[1,"activearchive"],["routerLink","/users",1,"w3-button","w3-right","w3-ripple","w3-dark-gray"],[1,"w3-table-all"],[1,"w3-gray"],[2,"width","20%"],[2,"width","10%"],["class","w3-hover-gray",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w3-hover-gray"],[2,"white-space","nowrap"],[1,"w3-button","w3-round","w3-ripple","w3-green",3,"routerLink"],[1,"w3-button","w3-round","w3-ripple","w3-red",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(t,o){1&t&&(e.TgZ(0,"html"),e._UZ(1,"meta",0)(2,"link",1),e.TgZ(3,"body")(4,"div",2)(5,"a",3),e._uU(6,"Dashboard"),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"a",4),e._uU(9,"User Management"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"a",5),e._uU(12,"Course Subject Management"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"a",6),e._uU(15,"Specialization Track Management"),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"a",7),e._uU(18,"Curriculum Management"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"a",8),e._uU(21,"Committee Management"),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"a",9),e._uU(24,"Feedback"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"a",10),e._uU(27,"Settings"),e.qZA()(),e.TgZ(28,"div",11)(29,"a"),e._uU(30,"CICT Curriculum Management System > User Management"),e.qZA()(),e.TgZ(31,"div",12),e._UZ(32,"br")(33,"br")(34,"br")(35,"br"),e.TgZ(36,"a",13),e._uU(37,"Add User"),e.qZA(),e.TgZ(38,"div",14)(39,"a",15),e._uU(40,"Archive Users"),e.qZA()(),e.TgZ(41,"table",16)(42,"thead")(43,"tr",17)(44,"th",18),e._uU(45,"Username"),e.qZA(),e.TgZ(46,"th",18),e._uU(47,"Email Address"),e.qZA(),e.TgZ(48,"th",18),e._uU(49,"Role"),e.qZA(),e.TgZ(50,"th",18),e._uU(51,"Department"),e.qZA(),e._UZ(52,"th",19),e.qZA()(),e.TgZ(53,"tbody"),e.YNc(54,h,15,8,"tr",20),e.YNc(55,A,3,0,"tr",21),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLinkActiveOptions",e.DdM(3,x)),e.xp6(49),e.Q6J("ngForOf",o.users),e.xp6(1),e.Q6J("ngIf",!o.users))},dependencies:[c.sg,c.O5,s.rH,s.Od],styles:[".navbar[_ngcontent-%COMP%] {\n      height: 10%;\n      width: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      background-color: #5c5a5a;\n      overflow-x: hidden;\n    }\n\n    .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n      text-align: left;\n      font-size: 22px;\n      color: #e7e1e1;\n      display: block;\n      margin-left: 26%;\n      margin-top: 1%;\n    }\n\n    .sidenav[_ngcontent-%COMP%] {\n      height: 100%;\n      width: 25%;\n      position: fixed;\n      z-index: 1;\n      top: 0;\n      left: 0;\n      background-color: #464444;\n      overflow-x: hidden;\n      padding-top: 20px;\n    }\n\n    .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      text-align: left;\n      font-family: Georgia, 'Times New Roman', Times, serif;\n      font-weight: bold;\n      font-size: 16px;\n      color: #e7e5e5;\n      display: block;\n    }\n\n    .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n      color: #ffffff;\n    }\n\n    .main[_ngcontent-%COMP%] {\n      margin-left: 160px;\n      \n      font-size: 28px;\n      \n      padding: 0px 10px;\n    }\n\n    @media screen and (max-height: 450px) {\n      .sidenav[_ngcontent-%COMP%] {\n        padding-top: 15px;\n      }\n\n      .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n        font-size: 18px;\n      }\n    }"]}),n})();function T(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"The username field is required."),e.qZA())}function U(n,i){if(1&n&&(e.TgZ(0,"div",35),e.YNc(1,T,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.username.errors.required)}}function C(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"The Email field is required."),e.qZA())}function q(n,i){if(1&n&&(e.TgZ(0,"div",35),e.YNc(1,C,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required)}}function k(n,i){1&n&&(e.TgZ(0,"em"),e._uU(1,"(Leave blank to keep the same password)"),e.qZA())}function L(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function M(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 6 characters"),e.qZA())}function y(n,i){if(1&n&&(e.TgZ(0,"div",35),e.YNc(1,L,2,0,"div",22),e.YNc(2,M,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}function S(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Select a Role"),e.qZA())}function I(n,i){if(1&n&&(e.TgZ(0,"div",35),e.YNc(1,S,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.role.errors?null:t.f.role.errors.required)}}function O(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Select a Department"),e.qZA())}function J(n,i){if(1&n&&(e.TgZ(0,"div",35),e.YNc(1,O,2,0,"div",22),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.department.errors?null:t.f.department.errors.required)}}function E(n,i){1&n&&e._UZ(0,"span",36)}const u=function(n){return{"is-invalid":n}};function P(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"form",15),e.NdJ("ngSubmit",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.onSubmit())}),e.TgZ(1,"div",16)(2,"div",17)(3,"label",18),e._uU(4,"Username"),e.qZA(),e._UZ(5,"input",19),e.YNc(6,U,2,1,"div",20),e.qZA()(),e.TgZ(7,"div",17)(8,"label",18),e._uU(9,"Email Address"),e.qZA(),e._UZ(10,"input",21),e.YNc(11,q,2,1,"div",20),e.qZA(),e.TgZ(12,"div",17)(13,"label",18),e._uU(14," Password "),e.YNc(15,k,2,0,"em",22),e.qZA(),e._UZ(16,"input",23),e.YNc(17,y,3,2,"div",20),e.qZA(),e.TgZ(18,"div",16)(19,"div",17)(20,"label",18),e._uU(21,"Role"),e.qZA(),e.TgZ(22,"select",24)(23,"option",25),e._uU(24," CHAIR "),e.qZA(),e.TgZ(25,"option",26),e._uU(26," STAKEHOLDER "),e.qZA(),e.TgZ(27,"option",27),e._uU(28," MEMBER "),e.qZA()(),e.YNc(29,I,2,1,"div",20),e.qZA()(),e.TgZ(30,"div",17)(31,"label",18),e._uU(32,"Department"),e.qZA(),e.TgZ(33,"select",28)(34,"option",29),e._uU(35," BSIT "),e.qZA(),e.TgZ(36,"option",30),e._uU(37," BLIS "),e.qZA()(),e.YNc(38,J,2,1,"div",20),e.qZA(),e.TgZ(39,"div",31)(40,"button",32),e.YNc(41,E,1,0,"span",33),e._uU(42," Save "),e.qZA(),e.TgZ(43,"a",34),e._uU(44,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("ngClass",e.VKq(14,u,t.submitted&&t.f.username.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,u,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(4),e.Q6J("ngIf",t.id),e.xp6(1),e.Q6J("ngClass",e.VKq(18,u,t.submitted&&t.f.password.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.password.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(20,u,t.submitted&&t.f.role.errors)),e.xp6(7),e.Q6J("ngIf",t.submitted&&t.f.role.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(22,u,t.submitted&&t.f.department.errors)),e.xp6(5),e.Q6J("ngIf",t.submitted&&t.f.department.errors),e.xp6(2),e.Q6J("disabled",t.submitting),e.xp6(1),e.Q6J("ngIf",t.submitting)}}function Q(n,i){1&n&&(e.TgZ(0,"div",37),e._UZ(1,"span",38),e.qZA())}const N=function(){return{exact:!0}};let _=(()=>{class n{constructor(t,o,d,p,g){this.formBuilder=t,this.route=o,this.router=d,this.accountService=p,this.alertService=g,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({username:["",r.kI.required],email:["",[r.kI.email,r.kI.required]],department:["",r.kI.required],role:["",r.kI.required],password:["",[r.kI.minLength(6),...this.id?[]:[r.kI.required]]]}),this.title="Add User",this.id&&(this.title="Edit User",this.loading=!0,this.accountService.getById(this.id).pipe((0,l.P)()).subscribe(t=>{this.form.patchValue({username:t.username,email:t.email,department:t.department,role:t.role,password:""}),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveUser().pipe((0,l.P)()).subscribe({next:()=>{this.alertService.success("User saved",{keepAfterRouteChange:!0}),this.router.navigateByUrl("/users")},error:t=>{this.alertService.error(t),console.debug(t),this.submitting=!1}}))}saveUser(){return console.log(this.form.value),this.id?this.accountService.update(this.id,this.form.value):this.accountService.register(this.form.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(s.gz),e.Y36(s.F0),e.Y36(m.B),e.Y36(m.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:38,vars:5,consts:[["name","viewport","content","width=device-width, initial-scale=1"],["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi","crossorigin","anonymous"],[1,"sidenav"],["routerLink","/","routerLinkActive","active",1,"w3-bar-item","w3-button",3,"routerLinkActiveOptions"],["routerLink","/users","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CSM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/STM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CUM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/feedback","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/settings","routerLinkActive","active",1,"w3-button","w3-bottom",2,"width","25%"],[1,"navbar"],["style","margin-left:26%",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center m-5",4,"ngIf"],[2,"margin-left","26%",3,"formGroup","ngSubmit"],[1,"row"],[1,"mb-3","col"],[1,"form-label"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],[4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["type","text","formControlName","role",1,"form-control",3,"ngClass"],["value","CHAIR"],["value","STAKEHOLDER"],["value","MEMBER"],["type","text","formControlName","department",1,"form-control",3,"ngClass"],["value","BSIT"],["value","BLIS"],[1,"mb-3"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/users",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(t,o){1&t&&(e.TgZ(0,"html"),e._UZ(1,"meta",0)(2,"link",1)(3,"link",2),e.TgZ(4,"body")(5,"div",3)(6,"a",4),e._uU(7,"Dashboard"),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"a",5),e._uU(10,"User Management"),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"a",6),e._uU(13,"Course Subject Management"),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"a",7),e._uU(16,"Specialization Track Management"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"a",8),e._uU(19,"Curriculum Management"),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"a",9),e._uU(22,"Committee Management"),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"a",10),e._uU(25,"Feedback"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"a",11),e._uU(28,"Settings"),e.qZA()(),e.TgZ(29,"div",12)(30,"a"),e._uU(31),e.qZA()(),e._UZ(32,"br")(33,"br")(34,"br")(35,"br"),e.YNc(36,P,45,24,"form",13),e.YNc(37,Q,2,0,"div",14),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("routerLinkActiveOptions",e.DdM(4,N)),e.xp6(25),e.hij("CICT Curriculum Management System > User Management > ",o.title,""),e.xp6(5),e.Q6J("ngIf",!o.loading),e.xp6(1),e.Q6J("ngIf",o.loading))},dependencies:[c.mk,c.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,s.rH,s.Od],styles:[".navbar[_ngcontent-%COMP%] {\n      height: 10%;\n      width: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      background-color: #5c5a5a;\n      overflow-x: hidden;\n    }\n\n    .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n      text-align: left;\n      font-size: 22px;\n      color: #e7e1e1;\n      display: block;\n      margin-left: 26%;\n      margin-top: 1%;\n    }\n\n    .sidenav[_ngcontent-%COMP%] {\n      height: 100%;\n      width: 25%;\n      position: fixed;\n      z-index: 1;\n      top: 0;\n      left: 0;\n      background-color: #464444;\n      overflow-x: hidden;\n      padding-top: 20px;\n    }\n\n    .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      text-align: left;\n      font-family: Georgia, 'Times New Roman', Times, serif;\n      font-weight: bold;\n      font-size: 16px;\n      color: #e7e5e5;\n      display: block;\n    }\n\n    .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n      color: #ffffff;\n    }\n\n    .main[_ngcontent-%COMP%] {\n      margin-left: 160px;\n      \n      font-size: 28px;\n      \n      padding: 0px 10px;\n    }\n\n    @media screen and (max-height: 450px) {\n      .sidenav[_ngcontent-%COMP%] {\n        padding-top: 15px;\n      }\n\n      .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n        font-size: 18px;\n      }\n    }"]}),n})();const Y=[{path:"",component:v,children:[{path:"",component:w},{path:"add",component:_},{path:"edit/:id",component:_}]}];let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(Y),s.Bz]}),n})(),B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,r.UX,z]}),n})()}}]);