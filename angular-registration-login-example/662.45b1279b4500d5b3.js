"use strict";(self.webpackChunkangular_registration_login_example=self.webpackChunkangular_registration_login_example||[]).push([[662],{4662:(z,b,s)=>{s.r(b),s.d(b,{UsersModule:()=>Y});var a=s(433),d=s(6895),c=s(9230),t=s(8256);let Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA()())},dependencies:[c.lC],encapsulation:2}),n})();var f=s(590),u=s(2340),p=s(4004),_=s(529);let v=(()=>{class n{constructor(e){this.http=e}getallCSM(){return this.http.get(`${u.N.apiUrl}/subject`)}getCSM(e){return this.http.get(`${u.N.apiUrl}/subject/${e}`).pipe((0,p.U)(r=>r[0]))}CreateCSM(e){return this.http.post(`${u.N.apiUrl}/subject`,e).pipe((0,p.U)(r=>(console.log(r),r)))}UpdateCSM(e,r){return this.http.put(`${u.N.apiUrl}/subject/${e}`,r).pipe((0,p.U)(o=>(console.log(o),o)))}DeleteCSM(e){return this.http.delete(`${u.N.apiUrl}/subject/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(_.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C(n,i){1&n&&t._UZ(0,"span",25)}function x(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Delete"),t.qZA())}function A(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",19)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",20),t._uU(7,"View"),t.qZA()(),t.TgZ(8,"td",21)(9,"a",22),t._uU(10,"Edit"),t.qZA(),t.TgZ(11,"button",23),t.NdJ("click",function(){const l=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteSubject(l.subject_code))}),t.YNc(12,C,1,0,"span",24),t.YNc(13,x,2,0,"span",18),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.subject_code),t.xp6(2),t.Oqu(e.subject_name),t.xp6(2),t.s9C("href",e.syllabus,t.LSH),t.xp6(3),t.MGl("routerLink","edit/",e.subject_code,""),t.xp6(2),t.Q6J("disabled",e.isDeleting),t.xp6(1),t.Q6J("ngIf",e.isDeleting),t.xp6(1),t.Q6J("ngIf",!e.isDeleting)}}function U(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",26),t._UZ(2,"span",27),t.qZA()())}const w=function(){return{exact:!0}};let T=(()=>{class n{constructor(e){this.csmService=e}ngOnInit(){this.csmService.getallCSM().subscribe(e=>this.subjects=e)}deleteSubject(e){this.subjects.find(o=>o.id===e).isDeleting=!0,this.csmService.DeleteCSM(e).pipe((0,f.P)()).subscribe(()=>this.subjects=this.subjects.filter(o=>o.id!==e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:50,vars:4,consts:[["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],[1,"sidenav"],["routerLink","/","routerLinkActive","active",1,"w3-bar-item","w3-button",3,"routerLinkActiveOptions"],["routerLink","/users","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CSM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/STM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CUM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/feedback","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/settings","routerLinkActive","active",1,"w3-button","w3-bottom",2,"width","25%"],[1,"navbar"],[2,"margin-left","26%"],["routerLink","add",1,"w3-button","w3-round","w3-ripple","w3-green"],[1,"w3-table-all"],[1,"w3-gray"],[2,"width","20%"],[2,"width","10%"],["class","w3-hover-gray",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"w3-hover-gray"],[3,"href"],[2,"white-space","nowrap"],[1,"w3-button","w3-round","w3-ripple","w3-green",3,"routerLink"],[1,"w3-button","w3-round","w3-ripple","w3-red",3,"disabled","click"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],["colspan","4",1,"text-center"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,r){1&e&&(t.TgZ(0,"html"),t._UZ(1,"link",0),t.TgZ(2,"body")(3,"div",1)(4,"a",2),t._uU(5,"Dashboard"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"a",3),t._uU(8,"User Management"),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"a",4),t._uU(11,"Course Subject Management"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"a",5),t._uU(14,"Specialization Track Management"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"a",6),t._uU(17,"Curriculum Management"),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"a",7),t._uU(20,"Committee Management"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"a",8),t._uU(23,"Feedback"),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"a",9),t._uU(26,"Settings"),t.qZA()(),t.TgZ(27,"div",10)(28,"a"),t._uU(29,"CICT Curriculum Management System > Course Subject Management"),t.qZA()(),t.TgZ(30,"div",11),t._UZ(31,"br")(32,"br")(33,"br")(34,"br"),t.TgZ(35,"a",12),t._uU(36,"Add Subject"),t.qZA(),t.TgZ(37,"table",13)(38,"thead")(39,"tr",14)(40,"th",15),t._uU(41,"Subject Name"),t.qZA(),t.TgZ(42,"th",15),t._uU(43,"Course ID"),t.qZA(),t.TgZ(44,"th",15),t._uU(45,"Syllabus"),t.qZA(),t._UZ(46,"th",16),t.qZA()(),t.TgZ(47,"tbody"),t.YNc(48,A,14,7,"tr",17),t.YNc(49,U,3,0,"tr",18),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(3,w)),t.xp6(44),t.Q6J("ngForOf",r.subjects),t.xp6(1),t.Q6J("ngIf",!r.subjects))},dependencies:[d.sg,d.O5,c.rH,c.Od],styles:[".navbar[_ngcontent-%COMP%] {\n  height: 10%;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: #5c5a5a;\n  overflow-x: hidden;\n}\n\n.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n  text-align: left;\n  font-size: 22px;\n  color: #e7e1e1;\n  display: block;\n  margin-left: 26%;\n  margin-top: 1%;\n}\n\n.sidenav[_ngcontent-%COMP%] {\n  height: 100%;\n  width: 25%;\n  position: fixed;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  background-color: #464444;\n  overflow-x: hidden;\n  padding-top: 20px;\n}\n\n.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  text-align: left;\n  font-family: Georgia, 'Times New Roman', Times, serif;\n  font-weight: bold;\n  font-size: 16px;\n  color: #e7e5e5;\n  display: block;\n}\n\n.sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n  color: #616060;\n}\n\n.main[_ngcontent-%COMP%] {\n  margin-left: 160px;\n  \n  font-size: 28px;\n  \n  padding: 0px 10px;\n}\n\n@media screen and (max-height: 450px) {\n  .sidenav[_ngcontent-%COMP%] {\n    padding-top: 15px;\n  }\n\n  .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    font-size: 18px;\n  }\n}"]}),n})();var S=s(6082);function M(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Subject Code is required "),t.qZA())}function k(n,i){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,M,2,0,"div",28),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.subject_code.errors.required)}}function L(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1," Subject Name is required "),t.qZA())}function y(n,i){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,L,2,0,"div",28),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.subject_name.errors.required)}}function j(n,i){1&n&&(t.TgZ(0,"div"),t._uU(1,"Syllabus is required"),t.qZA())}function q(n,i){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,j,2,0,"div",28),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.syllabus.errors.required)}}function O(n,i){1&n&&t._UZ(0,"span",29)}const m=function(n){return{"is-invalid":n}};function N(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",15),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSubmit())}),t.TgZ(1,"div",16)(2,"div",17)(3,"label",18),t._uU(4,"Subject Code"),t.qZA(),t._UZ(5,"input",19),t.YNc(6,k,2,1,"div",20),t.qZA(),t.TgZ(7,"div",17)(8,"label",18),t._uU(9,"Subject Name"),t.qZA(),t._UZ(10,"input",21),t.YNc(11,y,2,1,"div",20),t.qZA()(),t.TgZ(12,"div",16)(13,"div",17)(14,"label",18),t._uU(15,"Syllabus"),t.qZA(),t.TgZ(16,"input",22),t.NdJ("change",function(o){t.CHM(e);const l=t.oxw();return t.KtG(l.onFileSelect(o))}),t.qZA(),t.YNc(17,q,2,1,"div",20),t.qZA()(),t.TgZ(18,"div",23)(19,"button",24),t.YNc(20,O,1,0,"span",25),t._uU(21," Save "),t.qZA(),t.TgZ(22,"a",26),t._uU(23,"Cancel"),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngClass",t.VKq(9,m,e.submitted&&e.f.subject_code.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.subject_code.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(11,m,e.submitted&&e.f.subject_name.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.subject_name.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(13,m,e.submitted&&e.f.syllabus.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.syllabus.errors),t.xp6(2),t.Q6J("disabled",e.submitting),t.xp6(1),t.Q6J("ngIf",e.submitting)}}function J(n,i){1&n&&(t.TgZ(0,"div",30),t._UZ(1,"span",31),t.qZA())}const I=function(){return{exact:!0}};let h=(()=>{class n{constructor(e,r,o,l,g,F){this.formBuilder=e,this.route=r,this.router=o,this.csmService=l,this.alertService=g,this.http=F,this.apiUrl=u.N.apiUrl,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({subjectName:["",a.kI.required],subjectCode:["",a.kI.required],syllabus:["",a.kI.required]}),this.title="Add Subject",this.id&&(this.title="Edit User",this.loading=!0,this.csmService.getCSM(this.id).subscribe({next:e=>{console.log("subject",e.subject_name),this.form.patchValue({subjectName:e.subject_name,subjectCode:e.subject_code,syllabus:e.syllabus}),this.loading=!1},error:e=>{console.log("Get Subjects Failed",e)}}))}get f(){return this.form.controls}onFileSelect(e){const r=e.target.files[0];this.form.get("syllabus")?.setValue(r)}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.addSubject().pipe((0,f.P)()).subscribe({next:()=>{this.alertService.success("Subject Saved",{keepAfterRouteChange:!0}),this.router.navigateByUrl("/CSM")},error:e=>{this.alertService.error(e),this.submitting=!1}}))}addSubject(){return this.id?this.csmService.UpdateCSM(this.id,this.form.value):this.csmService.CreateCSM(this.form.value)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(c.gz),t.Y36(c.F0),t.Y36(v),t.Y36(S.c),t.Y36(_.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:38,vars:5,consts:[["name","viewport","content","width=device-width, initial-scale=1"],["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi","crossorigin","anonymous"],[1,"sidenav"],["routerLink","/","routerLinkActive","active",1,"w3-bar-item","w3-button",3,"routerLinkActiveOptions"],["routerLink","/users","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CSM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/STM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CUM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/feedback","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/settings","routerLinkActive","active",1,"w3-button","w3-bottom",2,"width","25%"],[1,"navbar"],["style","margin-left: 26%","enctype","multipart/form-data",3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center m-5",4,"ngIf"],["enctype","multipart/form-data",2,"margin-left","26%",3,"formGroup","ngSubmit"],[1,"row"],[1,"mb-3","col"],[1,"form-label"],["type","text","formControlName","subjectCode",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","subjectName",1,"form-control",3,"ngClass"],["type","file","id","syllabus",1,"form-control",3,"ngClass","change"],[1,"mb-3"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/CSM",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(e,r){1&e&&(t.TgZ(0,"html"),t._UZ(1,"meta",0)(2,"link",1)(3,"link",2),t.TgZ(4,"body")(5,"div",3)(6,"a",4),t._uU(7,"Dashboard"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"a",5),t._uU(10,"User Management"),t.qZA(),t._UZ(11,"br"),t.TgZ(12,"a",6),t._uU(13,"Course Subject Management"),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"a",7),t._uU(16,"Specialization Track Management"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"a",8),t._uU(19,"Curriculum Management"),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"a",9),t._uU(22,"Committee Management"),t.qZA(),t._UZ(23,"br"),t.TgZ(24,"a",10),t._uU(25,"Feedback"),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"a",11),t._uU(28,"Settings"),t.qZA()(),t.TgZ(29,"div",12)(30,"a"),t._uU(31),t.qZA()(),t._UZ(32,"br")(33,"br")(34,"br")(35,"br"),t.YNc(36,N,24,15,"form",13),t.YNc(37,J,2,0,"div",14),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("routerLinkActiveOptions",t.DdM(4,I)),t.xp6(25),t.hij("CICT Curriculum Management System > User Management > ",r.title,""),t.xp6(5),t.Q6J("ngIf",!r.loading),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[d.mk,d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,c.rH,c.Od],styles:['.navbar[_ngcontent-%COMP%] {\n        height: 10%;\n        width: 100%;\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: #5c5a5a;\n        overflow-x: hidden;\n      }\n      .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n        font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",\n          "Lucida Sans", Arial, sans-serif;\n        text-align: left;\n        font-size: 22px;\n        color: #e7e1e1;\n        display: block;\n        margin-left: 26%;\n        margin-top: 1%;\n      }\n      .sidenav[_ngcontent-%COMP%] {\n        height: 100%;\n        width: 25%;\n        position: fixed;\n        z-index: 1;\n        top: 0;\n        left: 0;\n        background-color: #464444;\n        overflow-x: hidden;\n        padding-top: 20px;\n      }\n      .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n        text-align: left;\n        font-family: Georgia, "Times New Roman", Times, serif;\n        font-weight: bold;\n        font-size: 16px;\n        color: #e7e5e5;\n        display: block;\n      }\n\n      .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n        color: #ffffff;\n      }\n\n      .main[_ngcontent-%COMP%] {\n        margin-left: 160px; \n        font-size: 28px; \n        padding: 0px 10px;\n      }\n\n      @media screen and (max-height: 450px) {\n        .sidenav[_ngcontent-%COMP%] {\n          padding-top: 15px;\n        }\n        .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n          font-size: 18px;\n        }\n      }']}),n})();const P=[{path:"",component:Z,children:[{path:"",component:T},{path:"add",component:h},{path:"edit/:id",component:h}]}];let Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(P),c.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,a.UX,Q]}),n})()}}]);