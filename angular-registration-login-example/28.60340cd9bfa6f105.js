"use strict";(self.webpackChunkangular_registration_login_example=self.webpackChunkangular_registration_login_example||[]).push([[28],{4028:(E,p,s)=>{s.r(p),s.d(p,{UsersModule:()=>y});var r=s(433),m=s(6895),a=s(9230),t=s(8256);let g=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA()())},dependencies:[a.lC],encapsulation:2}),e})();var c=s(590),l=s(6082);const _=function(){return{exact:!0}};let v=(()=>{class e{constructor(n){this.accountService=n}ngOnInit(){this.accountService.getAll().pipe((0,c.P)()).subscribe(n=>this.users=n)}logout(){this.accountService.logout()}deleteUser(n){this.users.find(d=>d.id===n).isDeleting=!0,this.accountService.delete(n).pipe((0,c.P)()).subscribe(()=>this.users=this.users.filter(d=>d.id!==n))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.B))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:35,vars:2,consts:[["rel","stylesheet","href","https://www.w3schools.com/w3css/4/w3.css"],[1,"sidenav"],["routerLink","/","routerLinkActive","active",1,"w3-bar-item","w3-button",3,"routerLinkActiveOptions"],["routerLink","/users","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CSM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/STM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CUM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/CM","routerLinkActive","active",1,"w3-bar-item","w3-button"],["routerLink","/feedback","routerLinkActive","active",1,"w3-bar-item","w3-button"],[1,"w3-button","w3-bottom",2,"width","25%",3,"click"],[1,"navbar"],[2,"margin-left","25%"]],template:function(n,o){1&n&&(t.TgZ(0,"html"),t._UZ(1,"link",0),t.TgZ(2,"body")(3,"div",1)(4,"a",2),t._uU(5,"Dashboard"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"a",3),t._uU(8,"User Management"),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"a",4),t._uU(11,"Course Subject Management"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"a",5),t._uU(14,"Specialization Track Management"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"a",6),t._uU(17,"Curriculum Management"),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"a",7),t._uU(20,"Committee Management"),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"a",8),t._uU(23,"Feedback"),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"a",9),t.NdJ("click",function(){return o.logout()}),t._uU(26,"Logout"),t.qZA()(),t.TgZ(27,"div",10)(28,"a"),t._uU(29," CICT Curriculum Management System > Settings"),t.qZA()(),t._UZ(30,"div",11)(31,"br")(32,"br")(33,"br")(34,"div",11),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("routerLinkActiveOptions",t.DdM(1,_)))},dependencies:[a.rH,a.Od],styles:[".navbar[_ngcontent-%COMP%] {\n      height: 10%;\n      width: 100%;\n      position: fixed;\n      top: 0;\n      left: 0;\n      background-color: #5c5a5a;\n      overflow-x: hidden;\n    }\n    .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n      text-align: left; \n      font-size: 22px;\n      color: #e7e1e1;\n      display: block;\n      margin-left: 26%;\n      margin-top: 1%;\n    }    \n    .sidenav[_ngcontent-%COMP%] {\n      height: 100%;\n      width: 25%;\n      position: fixed;\n      z-index: 1;\n      top: 0;\n      left: 0;\n      background-color: #464444;\n      overflow-x: hidden;\n      padding-top: 20px;\n    }\n    \n    .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n      text-align: left;\n      font-family: Georgia, 'Times New Roman', Times, serif;\n      font-weight: bold;\n      font-size: 16px;\n      color: #e7e5e5;\n      display: block;\n    }\n    .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n      color: #f1f1f1;\n    }\n    \n    .main[_ngcontent-%COMP%] {\n      margin-left: 160px; \n      font-size: 28px; \n      padding: 0px 10px;\n    }\n    \n    @media screen and (max-height: 450px) {\n      .sidenav[_ngcontent-%COMP%] {padding-top: 15px;}\n      .sidenav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {font-size: 18px;}\n    }"]}),e})();function b(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"First Name is required"),t.qZA())}function h(e,i){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,b,2,0,"div",11),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.f.firstName.errors.required)}}function Z(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Last Name is required"),t.qZA())}function x(e,i){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,Z,2,0,"div",11),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.f.lastName.errors.required)}}function A(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Username is required"),t.qZA())}function C(e,i){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,A,2,0,"div",11),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.f.username.errors.required)}}function U(e,i){1&e&&(t.TgZ(0,"em"),t._uU(1,"(Leave blank to keep the same password)"),t.qZA())}function T(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Password is required"),t.qZA())}function w(e,i){1&e&&(t.TgZ(0,"div"),t._uU(1,"Password must be at least 6 characters"),t.qZA())}function q(e,i){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,T,2,0,"div",11),t.YNc(2,w,2,0,"div",11),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.f.password.errors.required),t.xp6(1),t.Q6J("ngIf",n.f.password.errors.minlength)}}function k(e,i){1&e&&t._UZ(0,"span",18)}const u=function(e){return{"is-invalid":e}};function L(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"form",3),t.NdJ("ngSubmit",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.onSubmit())}),t.TgZ(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"First Name"),t.qZA(),t._UZ(5,"input",7),t.YNc(6,h,2,1,"div",8),t.qZA(),t.TgZ(7,"div",5)(8,"label",6),t._uU(9,"Last Name"),t.qZA(),t._UZ(10,"input",9),t.YNc(11,x,2,1,"div",8),t.qZA()(),t.TgZ(12,"div",4)(13,"div",5)(14,"label",6),t._uU(15,"Username"),t.qZA(),t._UZ(16,"input",10),t.YNc(17,C,2,1,"div",8),t.qZA(),t.TgZ(18,"div",5)(19,"label",6),t._uU(20," Password "),t.YNc(21,U,2,0,"em",11),t.qZA(),t._UZ(22,"input",12),t.YNc(23,q,3,2,"div",8),t.qZA()(),t.TgZ(24,"div",13)(25,"button",14),t.YNc(26,k,1,0,"span",15),t._uU(27," Save "),t.qZA(),t.TgZ(28,"a",16),t._uU(29,"Cancel"),t.qZA()()()}if(2&e){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(5),t.Q6J("ngClass",t.VKq(12,u,n.submitted&&n.f.firstName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.firstName.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(14,u,n.submitted&&n.f.lastName.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.lastName.errors),t.xp6(5),t.Q6J("ngClass",t.VKq(16,u,n.submitted&&n.f.username.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.username.errors),t.xp6(4),t.Q6J("ngIf",n.id),t.xp6(1),t.Q6J("ngClass",t.VKq(18,u,n.submitted&&n.f.password.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.password.errors),t.xp6(2),t.Q6J("disabled",n.submitting),t.xp6(1),t.Q6J("ngIf",n.submitting)}}function N(e,i){1&e&&(t.TgZ(0,"div",19),t._UZ(1,"span",20),t.qZA())}let f=(()=>{class e{constructor(n,o,d,I,J){this.formBuilder=n,this.route=o,this.router=d,this.accountService=I,this.alertService=J,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({firstName:["",r.kI.required],lastName:["",r.kI.required],username:["",r.kI.required],password:["",[r.kI.minLength(6),...this.id?[]:[r.kI.required]]]}),this.title="Add User",this.id&&(this.title="Edit User",this.loading=!0,this.accountService.getById(this.id).pipe((0,c.P)()).subscribe(n=>{this.form.patchValue(n),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveUser().pipe((0,c.P)()).subscribe({next:()=>{this.alertService.success("User saved",{keepAfterRouteChange:!0}),this.router.navigateByUrl("/users")},error:n=>{this.alertService.error(n),this.submitting=!1}}))}saveUser(){return this.id?this.accountService.update(this.id,this.form.value):this.accountService.register(this.form.value)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.qu),t.Y36(a.gz),t.Y36(a.F0),t.Y36(l.B),t.Y36(l.c))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:5,vars:2,consts:[[2,"margin-left","25%"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","text-center m-5",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"mb-3","col"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],[4,"ngIf"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"mb-3"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/users",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"text-center","m-5"],[1,"spinner-border","spinner-border-lg","align-center"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Add Course"),t.qZA(),t.YNc(3,L,30,20,"form",1),t.YNc(4,N,2,0,"div",2),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngIf",!o.loading),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[m.mk,m.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.rH],encapsulation:2}),e})();const M=[{path:"",component:g,children:[{path:"",component:v},{path:"add",component:f},{path:"edit/:id",component:f}]}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(M),a.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,r.UX,S]}),e})()}}]);